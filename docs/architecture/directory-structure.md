# ディレクトリ構造

プロジェクトのディレクトリ構造について説明します。

## プロジェクト全体構造

```
blog_microcms_pages/
├── docs/                    # プロジェクトドキュメント
├── public/                  # Next.jsの静的ファイル
├── src/                     # ソースコード（メインディレクトリ）
├── package.json            # パッケージ依存関係
├── README.md               # プロジェクト概要
└── tsconfig.json           # TypeScript設定
```

## 主要ディレクトリ詳細

### `/src` - ソースコードディレクトリ

アプリケーションのメインソースコードを格納するディレクトリです。

#### `/src/commons` - 共通ロジック・コンポーネント

プロジェクト全体で使用される共通的な機能を格納します。

```
commons/
├── date/                 # 日付処理関連
├── layout/               # レイアウト関連
└── ... (その他多数)      # 必要に応じて追加・削除される
```

各ディレクトリには以下の構造を持ちます：

- `components/` - React コンポーネント（[詳細なコンポーネント構造ルール](./component-structure.md)）
- `hooks/` - カスタムフック
- `types/` - TypeScript 型定義
- `utils/` - ユーティリティ関数
- `constants/` - 定数定義

#### `/src/features` - 特定ページ専用ファイル

**特定のページでのみ使用するファイル**を格納するディレクトリです。機能別のモジュールではなく、**ページ固有の実装**を配置します。

**配置基準:**

- 特定の URL パス（ページ）でのみ使用されるコンポーネント、hooks、ユーティリティ
- そのページから離れると不要になるロジック
- ページ特有のビジネスロジックや状態管理

**具体例:**

- `components/` - ページ固有のコンポーネント（[詳細なコンポーネント構造ルール](./component-structure.md)）
- `hooks/` - ページ固有のカスタムフック
- `types/` - 型定義
- `utils/` - ページ固有のユーティリティ
- `constants/` - ページ固有の定数

#### `/src/infra` - インフラストラクチャ層

外部サービスとの連携やデータアクセス層を管理します。

```
infra/
├── microCMS/           # Contentful CMS 連携
│   ├── api/              # API エンドポイント定義
│   ├── entities/         # エンティティ定義
│   └── repositories/     # データアクセス関数（機能別整理）
```

<!-- #### `/src/libs` - ライブラリラッパー

外部ライブラリの設定やラッパー関数を管理します。

```
libs/
├── firebase/             # Firebase 設定・認証・マルチテナント
└── next/                 # Next.js 関連ユーティリティ
```

主要なライブラリの設定例として、認証（Firebase）、データ取得（TanStack Query）などが含まれます。 -->

#### `/src/pages` - Next.js ページ

Next.js のファイルベースルーティングに従ったページ定義です。

```
pages/
├── article/              # 記事ページ
├── api/                  # API ルート
├── _app.tsx              # アプリケーションルート
├── 404.tsx               # 404エラーページ
└── index.tsx             # ホームページ
```

### その他の主要ディレクトリ

#### `/docs` - ドキュメント

プロジェクト関連のドキュメントを格納します。

```
docs/
└── architecture/         # アーキテクチャドキュメント
    ├── README.md         # アーキテクチャ概要
    └── directory-structure.md    # ディレクトリ構造（このドキュメント）
```

#### `/public` - 静的ファイル

Next.js の静的ファイル配信用ディレクトリです。

```
public/
└── favicon.ico           # ファビコン
```
